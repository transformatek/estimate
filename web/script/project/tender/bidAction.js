var bidderTableparent=1;var bidderTableTop=1;var bidderTableCurrentParent=1;var bidderTablecontainer="blankContent";var INPUT_NAME_PREFIX="inputName";var RADIO_NAME="radName";var TABLE_NAME="bidderSample";var DIV_NAV_NAME="bidderNavDiv";var ROW_BASE=1;var hasLoaded=false;var ctx_THEAD="BIDDER_TTHEAD123";var ctx_TBODY="BIDDER_TTBODY123";var currentTenderId=0;var key1="qwerty";var searchFlag1=false;var currentTenderDocId=0;var contextMenu=null;contextMenu=new DHTMLSuite.contextMenu();contextMenu.setWidth(140);var callBack=function(){if(myContextMenuRequest.readyState==4){if(myContextMenuRequest.status==200){configureContextMenu();callBidderAjax(currentTenderDocId)}else{alert("Connection Problem:"+myContextMenuRequest.statusText)}}};var initializeBidderTable=function(b,a){myCurrentMenuParent=b;writeWaitMsg(bidderTablecontainer,"themes/icons/ajax_loading/22.gif","Loading Menu...");currentTenderDocId=a;callContextMenuAjax(b,callBack)};var menu2=function(){return configureContextMenuModel()};contextMenu.modifyMenu=function(){var a=this.srcElement;currentMenuBar=this.menuBar;var b;while(true){b=a.parentNode;if(b.tagName!="TR"){a=b;continue}else{break}}clickOnTableRowContext(b);var c=b.parentNode.parentNode;var d=c.parentNode;if(b.myRow==null){setMenuItemState(213620,"disabled");setMenuItemState(213630,"disabled")}else{setMenuItemState(213620,"regular");setMenuItemState(213630,"regular")}setMenuPermissions(currentMenuBar)};function callBidderAjax(d){currentTenderId=d;if(document.getElementById(bidderTablecontainer)==null){return}if(document.getElementById(bidderTablecontainer)==null){return}var c=getHTMLHTTPRequest();bidderTableCurrentParent=d;var b=parseInt(Math.random()*99999999);var a=myServerAddress+"MyXMLDispatcher?rand="+b+"&path="+23020+"&tenderId="+d+"&method=get";c.open("GET",a,true);c.onreadystatechange=function(){if(c.readyState==4){if(c.status==200){renderBidders(c)}else{alert("Connection Problem:"+c.statusText)}}};writeWaitMsg(bidderTablecontainer,"themes/icons/ajax_loading/22.gif","Loading page, please wait...");c.send(null)}function renderBidders(b){var c=b.responseXML;if(c==null){alert("Data Error");return}var d=c.getElementsByTagName("status");var a=systemStatus(bidderTablecontainer,d);if(a==0){return}var e="";e+="<div id='"+DIV_NAV_NAME+"'></div>";e+="<table id='"+TABLE_NAME+"' width='100%' class='contentTable'><thead id='"+ctx_THEAD+"'><tr><td width='18px'>&nbsp;</td><td width='1%'>Sl</td><td width='20%'>Name</td><td width='100%'>Description</td><td>D</td><td>E</td></tr></thead>";e+="<tbody id='"+ctx_TBODY+"'></tbody></table>";document.getElementById(bidderTablecontainer).innerHTML=e;updateBidderNav(c,DIV_NAV_NAME);initiateTableRollover(TABLE_NAME,"tableRollOverEffect1","tableRowClickEffect1");populateTable(c,TABLE_NAME);contextMenu.attachTo(ctx_THEAD,menu2());contextMenu.attachTo(ctx_TBODY,menu2())}var updateBidderNav=function(b,a){var c="<table class='innerNavTable'><tr>";c+="<td><a style='text-decoration: none;' href='javascript:void(0);' onclick='initContactsWin(\""+TABLE_NAME+"\");'>Add Bidder</a></td>";c+="<td><a style='text-decoration: none;' href='javascript:void(0);' onclick='deleteChecked(\""+TABLE_NAME+"\");'>Delete[D]</a></td>";c+="<td><a style='text-decoration: none;' href='javascript:void(0);' onclick='openQuotationWin(\""+TABLE_NAME+"\");'>Prepare Quotation[E]</a></td>";c+="<td>Filter: <input name='filter' onKeyUp='filter(this, \""+TABLE_NAME+"\")' type='text'></td>";c+="</tr></table>";document.getElementById(a).innerHTML=c};var populateTable=function(e,b){var d=e.getElementsByTagName("bidder");for(var c=0;c<d.length;c++){var f=document.getElementById(b);var a=f.tBodies[0].rows.length;var g=Array();g[0]=d[c].childNodes[0].firstChild.data;g[1]=d[c].childNodes[1].firstChild.data;g[2]=d[c].childNodes[2].firstChild.data;g[3]=d[c].childNodes[3].firstChild.data;addRowToTable1(f,a,g);reorderRows(f,a)}};var myRowObject=function(b){this.content=Array();for(var a=0;a<b.length;a++){this.content[a]=b[a]}};function filter(a,d){var h=a.value.toLowerCase().split(" ");var f=document.getElementById(d);var g;for(var e=0;e<f.tBodies[0].rows.length;e++){g=f.tBodies[0].rows[e].innerHTML.replace(/<[^>]+>/g,"");var b="none";for(var c=0;c<h.length;c++){if(g.toLowerCase().indexOf(h[c])>=0){b=""}else{b="none";break}}f.tBodies[0].rows[e].style.display=b}}var addRowToTable1=function(g,h,e){var p=g.tBodies[0].rows.length;var d=p+ROW_BASE;if(h==-1){h=p}else{d=h+ROW_BASE}var q=g.tBodies[0].insertRow(h);q.className="styleB"+(d%2);var o=Array();o[0]=q.insertCell(0);o[0].innerHTML="<img src='images/project/tender/bidders1.png' border='0'>";o[1]=q.insertCell(1);var j=document.createTextNode(d);o[1].appendChild(j);o[2]=q.insertCell(2);var a=document.createTextNode(e[1]);o[2].appendChild(a);o[3]=q.insertCell(3);var n=document.createTextNode(e[2]);o[3].appendChild(n);o[4]=q.insertCell(4);var k=document.createElement("input");k.setAttribute("type","checkbox");o[4].appendChild(k);o[5]=q.insertCell(5);var c;try{c=document.createElement('<input type="radio" name="'+RADIO_NAME+'" value="'+d+'">');var b=c.name.length}catch(l){c=document.createElement("input");c.setAttribute("type","radio");c.setAttribute("name",RADIO_NAME);c.setAttribute("value",d)}o[5].appendChild(c);var f=Array();f[0]=k;f[1]=c;f[2]=o[0].innerHTML;f[3]=j;f[4]=a;f[5]=n;f[6]=e[0];f[7]=e[3];var m=new myRowObject(f);q.myRow=m;addRowRolloverEffect(q)};function callDeleteBidderAjax(h,j,d){if(!confirmDelete()){return}var l;var c=Array();var e;var g=getHTMLHTTPRequest();l=h;c=j;e=d;var k=parseInt(Math.random()*99999999);var b="";for(var f=0;f<j.length;f++){if(f==0){b+=j[f].myRow.content[7]}else{b+=","+j[f].myRow.content[7]}}var a=myServerAddress+"MyXMLDispatcher?rand="+k+"&path="+23030+"&id="+b+"&method=delete";g.open("GET",a,true);g.onreadystatechange=function(){if(g.readyState==4){if(g.status==200){var n=g.responseXML;var m=0;if(n==null){alert("Data Error")}else{var o=n.getElementsByTagName("status");m=systemStatus(null,o)}if(m==1){deleteRows(c);reorderRows(l,e)}else{if(m==2){alert("DELETE: System Error")}}}else{alert("Connection Problem:"+g.statusText)}closeSplashScreen()}};openSplashScreen();g.send(null)}var deleteChecked=function(d){var f=document.getElementById(d);var a=new Array();var b=0;for(var c=0;c<f.tBodies[0].rows.length;c++){if(f.tBodies[0].rows[c].myRow.content[0].checked){a[b]=f.tBodies[0].rows[c];b++}}if(a.length>0){var e=a[0].sectionRowIndex;callDeleteBidderAjax(f,a,e)}};var deleteRows=function(c){for(var a=0;a<c.length;a++){var b=c[a].sectionRowIndex;c[a].parentNode.deleteRow(b)}};var reorderRows=function(d,c){if(d.tBodies[0].rows[c]){var b=c+ROW_BASE;for(var a=c;a<d.tBodies[0].rows.length;a++){d.tBodies[0].rows[a].myRow.content[3].data=b;b++}}};var deleteContextChecked=function(){var a=new Array();var b=contextMenu.srcElement;while(true){a[0]=b.parentNode;if(a[0].tagName!="TR"){b=a[0];continue}else{break}}var d=a[0].parentNode.parentNode;var c=a[0].sectionRowIndex;callDeleteBidderAjax(d,a,c)};var contactManagerContainer="blankHidden1";var ContactOptionsContainer="contactOptions";var ContactInnnerContainer="innerCONTACTContainer";var contactOptionsWindow;var contactOptionsWindowId="contactOptionsWindowId";var CONTACT_INNER_TABLE_NAME="contactInnerSample";var CONTACT_INNER_DIV_NAV_NAME="contactInnerNavDiv";var biddersTable;var initContactsWin=function(a){biddersTable=a;var b=document.getElementById(contactManagerContainer);b.innerHTML="<div id='"+ContactInnnerContainer+"' class='smallText'>Loading.....</div>";openAssemblyOptionsWindow()};var openAssemblyOptionsWindow=function(){contactOptionsWindow=internalWindow.open(contactOptionsWindowId,"div",contactManagerContainer,"Add Bidder","width=600px,height=400px,left=5px,top=5px,resize=1,scrolling=1");openContactTable()};var contCatTableparent=1;var contCatTableTop=1;var contCatTableCurrentParent=1;var contCatTablecontainer=ContactInnnerContainer;var openContactTable=function(){callContCatAjax(1)};function callContCatAjax(d){if(document.getElementById(contCatTablecontainer)==null){return}var b=getHTMLHTTPRequest();contCatTableCurrentParent=d;var c=parseInt(Math.random()*99999999);var a=myServerAddress+"MyXMLDispatcher?rand="+c+"&path="+23040+"&parent="+d+"&method=get";b.open("GET",a,true);b.onreadystatechange=function(){if(b.readyState==4){if(b.status==200){renderContCat(b)}else{alert("Connection Problem:"+b.statusText)}}};writeWaitMsg(contCatTablecontainer,"themes/icons/ajax_loading/22.gif","Processing request, please wait...");b.send(null)}function renderContCat(b){var c=b.responseXML;if(c==null){alert("Data Error");return}var d=c.getElementsByTagName("status");var a=systemStatus(contCatTablecontainer,d);if(a==0){return}var e="";e+="<div id='"+CONTACT_INNER_DIV_NAV_NAME+"'></div>";e+="<table id='"+CONTACT_INNER_TABLE_NAME+"' width='100%' class='contentTable'><thead id='CONTTHEAD'><tr><td width='18px'>&nbsp;</td><td width='1%'>Sl</td><td width='25%'>Name</td><td width='45%'>Description</td><td width='15%'>Address</td><td width='15%'>Number</td><td>-</td></thead>";e+="<tbody id='CONTTTBODY'></tbody></table>";document.getElementById(contCatTablecontainer).innerHTML=e;updateContCatNav(c,CONTACT_INNER_DIV_NAV_NAME);populateContactsTable(c,CONTACT_INNER_TABLE_NAME);addTableRolloverEffect(CONTACT_INNER_TABLE_NAME,"tableRollOverEffect2","tableRowClickEffect2")}var updateContCatNav=function(b,a){var d=b.getElementsByTagName("levelParent");var c="<table class='navTable'><tr>";if(d!=null&&d.length>=1){contCatTableparent=d[0].getAttribute("id");c+="<td><a style='text-decoration: none;' href='javascript:void(0);' onclick='callContCatAjax("+contCatTableparent+")'><img src='images/utilities/up.png' border='0' alt='Up one level'></a></td>";c+="<td><a style='text-decoration: none;' href='javascript:void(0);' onclick='callContCatAjax("+contCatTableTop+")'><img src='images/utilities/top.png' border='0' alt='Top level'></a></td>"}else{if(searchFlag1==false){c+="<td><img src='images/utilities/up1.png' alt='Up one level'></td>";c+="<td><img src='images/utilities/top1.png' alt='Top level'></td>";searchFlag1=false;contCatTableparent=1}else{c+="<td><img src='images/utilities/up1.png' alt='Up one level'></td>";c+="<td><a style='text-decoration: none;' href='javascript:void(0);' onclick='callContCatAjax("+contCatTableTop+")'><img src='images/utilities/top.png' border='0' alt='Top level'></a></td>";contCatTableparent=1;searchFlag1=false}}c+="<td><label>Enter keyword:</label></td><td><input size='40' type='text' id='searchKeyForContact' value=''></td><td><input type='button' value='GO' onclick='vaildateKey2();'></td>";c+="</tr></table>";document.getElementById(a).innerHTML=c};var populateContactsTable=function(e,b){var d=e.getElementsByTagName("contactCat");var a;var f;var g;for(var c=0;c<d.length;c++){f=document.getElementById(b);a=f.tBodies[0].rows.length;g=Array();g[0]="contactCat";g[1]=d[c].childNodes[0].firstChild.data;g[2]=d[c].childNodes[1].firstChild.data;g[3]=d[c].childNodes[2].firstChild.data;g[4]=d[c].childNodes[3].firstChild.data;g[5]=d[c].childNodes[4].firstChild.data;addRowToTable2(f,a,g);reorderRows(f,a)}d=e.getElementsByTagName("contact");for(c=0;c<d.length;c++){f=document.getElementById(b);a=f.tBodies[0].rows.length;g=Array();g[0]="contact";g[1]=d[c].childNodes[0].firstChild.data;g[2]=d[c].childNodes[1].firstChild.data;g[3]=d[c].childNodes[2].firstChild.data;g[4]=d[c].childNodes[3].firstChild.data;g[5]=d[c].childNodes[4].firstChild.data;g[6]=d[c].childNodes[5].firstChild.data;g[7]=d[c].childNodes[6].firstChild.data;g[8]=d[c].childNodes[7].firstChild.data;g[9]=d[c].childNodes[8].firstChild.data;addRowToTable2(f,a,g);reorderRows(f,a)}};var addRowToTable2=function(f,g,c){var n=f.tBodies[0].rows.length;var b=n+ROW_BASE;if(g==-1){g=n}else{b=g+ROW_BASE}var o=f.tBodies[0].insertRow(g);if(c[0]=="contactCat"){o.className="classContCat"}else{o.className="classContact"}var m=Array();m[0]=o.insertCell(0);if(c[0]=="contactCat"){m[0].innerHTML="<a href='javascript:void(0);' onclick='callContCatAjax("+c[1]+")'><img src='images/utilities/folder.gif' border='0'></a>"}else{m[0].innerHTML="<a href='javascript:void(0);' onclick=''><img src='images/utilities/contact.png' border='0'></a>"}m[0].className="iconCbImage";m[1]=o.insertCell(1);var h=document.createTextNode(b);m[1].appendChild(h);m[2]=o.insertCell(2);var a=document.createTextNode(c[2]);m[2].appendChild(a);m[3]=o.insertCell(3);var l=document.createTextNode(c[3]);m[3].appendChild(l);m[4]=o.insertCell(4);var k;if(c[0]=="contactCat"){k=document.createTextNode("--")}else{k=document.createTextNode(c[4])}m[4].appendChild(k);m[5]=o.insertCell(5);var d;if(c[0]=="contactCat"){d=document.createTextNode("--")}else{d=document.createTextNode(c[5])}m[5].appendChild(d);m[6]=o.insertCell(6);m[6].className="classAedit";if(c[0]=="contactCat"){m[6].innerHTML="&nbsp;&nbsp;&nbsp;"}else{m[6].innerHTML="<a href='javascript:void(0);' onclick='callAddBidderAjax(\""+f.getAttribute("id")+'",'+o.sectionRowIndex+");'><img src='images/common/tick.gif' border='0'></a>"}var e=Array();e[0]=0;e[1]=0;e[2]=m[0].innerHTML;e[3]=h;e[4]=a;e[5]=l;e[6]=c[1];e[7]=c[0];if(c[0]=="contactCat"){e[8]=c[4];e[9]=c[5]}else{e[8]=c[8];e[9]=c[9];e[10]=k;e[11]=d;e[12]=c[6];e[13]=c[7]}var j=new myRowObject(e);o.myRow=j};var myBidderAddRequest=getHTMLHTTPRequest();var myBidderTable;var myBidderRow;var callAddBidderAjax=function(a,e){var g=document.getElementById(a);var d=g.tBodies[0].rows[e];var f=d.myRow.content[6];myBidderRow=d;var c=parseInt(Math.random()*99999999);var b=myServerAddress+"MyXMLDispatcher?rand="+c+"&path="+23050+"&contactId="+f+"&tenderId="+currentTenderId+"&method=addBidderToTender";myBidderAddRequest.open("GET",b,true);myBidderAddRequest.onreadystatechange=addBidderToTenderAction;openSplashScreen();myBidderAddRequest.send(null)};var addBidderToTenderAction=function(){if(myBidderAddRequest.readyState==4){if(myBidderAddRequest.status==200){var c=myBidderAddRequest.responseXML;var a=0;if(c==null){alert("Data Error")}else{var d=c.getElementsByTagName("status");a=systemStatus(null,d)}if(a==1){var b=c.getElementsByTagName("key")[0].getAttribute("value");var e=Array();e[0]=myBidderRow.myRow.content[6];e[1]=myBidderRow.myRow.content[4].data;e[2]=myBidderRow.myRow.content[5].data;e[3]=""+b;addRowToTable1(document.getElementById(TABLE_NAME),-1,e)}else{if(a==2){alert("ADD: System Error")}}}else{alert("Connection Problem:"+myBidderAddRequest.statusText)}closeSplashScreen()}};function vaildateKey2(){key1=document.getElementById("searchKeyForContact").value;if(key1.length<3){alert("Enter Minimum 3 Character");return}else{callSearchContactsAjax()}}function callSearchContactsAjax(e){if(document.getElementById(contCatTablecontainer)==null){return}var c=getHTMLHTTPRequest();contCatTableCurrentParent=e;var d=parseInt(Math.random()*99999999);var b=URLEncode(key1);var a=myServerAddress+"MyXMLDispatcher?rand="+d+"&path="+23040+"&key="+b+"&method=get";c.open("GET",a,true);c.onreadystatechange=function(){if(c.readyState==4){if(c.status==200){searchFlag1=true;renderContCat(c)}else{alert("Connection Problem:"+c.statusText)}}};writeWaitMsg(contCatTablecontainer,"themes/icons/ajax_loading/22.gif","Processing request, please wait...");c.send(null)}var quoteContainerDiv="blankHidden4";var quoteInnerDivPrefix="quoteInnerDivPrefix";var quoteWindowIdPrefix="quoteWindowIdPrefix";var INNER_TABLE_NAME_QUOTE_PREFIX="innerTableNameQuotePrefix";var INNER_QUOTATION_NAV_DIV_PREFIX="innerQuotationNavDivPrefix";var currentBidderIdForQuotation=0;var openQuotationWin=function(b){var d=document.getElementById(b);var j=-1;var a=null;for(var e=0;e<d.tBodies[0].rows.length;e++){if(d.tBodies[0].rows[e].myRow&&d.tBodies[0].rows[e].myRow.content[1].getAttribute("type")=="radio"&&d.tBodies[0].rows[e].myRow.content[1].checked){j=e;a=d.tBodies[0].rows[e]}}if(a!=null){var g=currentTenderId;var f=a.myRow.content[4].data;var c=a.myRow.content[7];currentBidderIdForQuotation=c;var h="<div id='"+INNER_QUOTATION_NAV_DIV_PREFIX+"'>Loading content, please wait...</div><div id='"+quoteInnerDivPrefix+"' class='smallText'></div>";document.getElementById(quoteContainerDiv).innerHTML=h;internalWindow.open(quoteWindowIdPrefix,"div",quoteContainerDiv,"Quote for #"+f,"width=850px,height=500px,left=5px,top=5px,resize=1,scrolling=1");callShowQuoteAjax(c,g)}};var openContextQuotationWin=function(){indexOfBidderRow=-1;rowOfBidder=null;var b=contextMenu.srcElement;while(true){rowOfBidder=b.parentNode;if(rowOfBidder.tagName!="TR"){b=rowOfBidder;continue}else{break}}if(rowOfBidder!=null){var e=currentTenderId;var a=rowOfBidder.myRow.content[4].data;var d=rowOfBidder.myRow.content[7];currentBidderIdForQuotation=d;var c="<div id='"+INNER_QUOTATION_NAV_DIV_PREFIX+"'>Loading content, please wait...</div><div id='"+quoteInnerDivPrefix+"' class='smallText'></div>";document.getElementById(quoteContainerDiv).innerHTML=c;internalWindow.open(quoteWindowIdPrefix,"div",quoteContainerDiv,"Quote for #"+a,"width=850px,height=500px,left=5px,top=5px,resize=1,scrolling=1");callShowQuoteAjax(d,e)}};var callShowQuoteAjax=function(b,d){if(document.getElementById(INNER_QUOTATION_NAV_DIV_PREFIX)==null){return}var e=getHTMLHTTPRequest();var c=parseInt(Math.random()*99999999);var a=myServerAddress+"MyXMLDispatcher?rand="+c+"&path="+23060+"&bidderId="+b+"&tenderId="+d+"&method=getQuotations";e.open("GET",a,true);e.onreadystatechange=function(){if(e.readyState==4){if(e.status==200){renderQuote(e)}else{alert("Connection Problem:"+e.statusText)}}};e.send(null)};var renderQuote=function(d){var a=d.responseXML;if(a==null){alert("Data Error");return}var b=document.getElementById(quoteInnerDivPrefix);var c="<table width='97%' class='contentTable' id='"+INNER_TABLE_NAME_QUOTE_PREFIX+"'><thead><tr><td width='1%'>Sl</td><td width='10%'>Name</td><td width='30%'>Description</td><td width='10%'>Unit</td><td width='10%'>Price</td><td width='8%'>Premium</td><td width='13%'>Quantity</td><td width='5%'>Basis</td><td width='15%'>Quote Price</td><td>&nbsp;</td><td>&nbsp;</td></tr></thead><tbody></tbody></table>";b.innerHTML=c;updateQuoteNav(a,INNER_QUOTATION_NAV_DIV_PREFIX);populateQuoteTable(a,INNER_TABLE_NAME_QUOTE_PREFIX);addTableRolloverEffect(INNER_TABLE_NAME_QUOTE_PREFIX,"tableRollOverEffect1","tableRowClickEffect1")};var updateQuoteNav=function(a,c){var b="<table class='innerNavTable'><tr>";b+="<td>Filter: <input name='filter1' onKeyUp='filter(this, \""+INNER_TABLE_NAME_QUOTE_PREFIX+"\")' type='text'></td>";b+="</tr></table>";document.getElementById(c).innerHTML=b};var populateQuoteTable=function(d,b){var a=b;var c=d.getElementsByTagName("quotation");for(i=0;i<c.length;i++){tbl=document.getElementById(a);rowToInsertAt=tbl.tBodies[0].rows.length;param=Array();param[0]=c[i].childNodes[0].firstChild.data;param[1]=c[i].childNodes[1].firstChild.data;param[2]=c[i].childNodes[2].firstChild.data;param[3]=c[i].childNodes[3].firstChild.data;param[4]=c[i].childNodes[4].firstChild.data;param[5]=c[i].childNodes[5].firstChild.data;param[6]=c[i].childNodes[6].firstChild.data;param[7]=c[i].childNodes[7].firstChild.data;param[8]=c[i].childNodes[8].firstChild.data;param[9]=c[i].childNodes[9].firstChild.data;param[10]=c[i].childNodes[10].firstChild.data;addRowToTable5(tbl,rowToInsertAt,param)}};var addRowToTable5=function(e,j,h){var n=e.tBodies[0].rows.length;var b=n+ROW_BASE;if(j==-1){j=n}else{b=j+ROW_BASE}var g=e.tBodies[0].insertRow(j);g.className="styleB"+(b%2);var d=Array();d[0]=g.insertCell(0);var c=document.createTextNode(b);d[0].appendChild(c);d[1]=g.insertCell(1);var t=document.createTextNode(h[1]);d[1].appendChild(t);d[2]=g.insertCell(2);var p=document.createTextNode(h[2]);d[2].appendChild(p);d[3]=g.insertCell(3);var m=document.createTextNode(h[3]);d[3].appendChild(m);d[4]=g.insertCell(4);d[4].setAttribute("align","right");var o=document.createTextNode(h[5]);d[4].appendChild(o);d[5]=g.insertCell(5);d[5].setAttribute("align","right");var s=document.createTextNode(h[6]);d[5].appendChild(s);d[6]=g.insertCell(6);var k=document.createTextNode(h[7]+" "+h[4]);d[6].appendChild(k);d[7]=g.insertCell(7);var q="<select id='basis'>";q+="<option value='0' "+(h[9]=="0"?"selected='selected'":"")+">Percent</option>";q+="<option value='1' "+(h[9]=="1"?"selected='selected'":"")+">Price</option>";d[7].innerHTML=q;d[8]=g.insertCell(8);var r=document.createElement("input");r.setAttribute("type","text");r.setAttribute("size","7");r.setAttribute("value",h[10]);d[8].appendChild(r);var l=document.createElement("span");l.appendChild(document.createTextNode(h[10]));l.style.display="none";d[8].appendChild(l);d[9]=g.insertCell(9);d[9].innerHTML="<a href='javascript:void(0);' onclick='callUpdateQuoteAjax(\""+g.sectionRowIndex+"\",\"update\")'><img src='images/common/tick.gif' border='0'></a>";d[10]=g.insertCell(10);d[10].innerHTML="<a href='javascript:void(0);' onclick='callUpdateQuoteAjax(\""+g.sectionRowIndex+"\",\"discard\")'><img src='images/common/cross.gif' border='0'></a>";var f=Array();f[0]=c;f[1]=t;f[2]=p;f[3]=m;f[4]=o;f[5]=s;f[6]=k;f[7]=d[7];f[8]=r;f[9]=l;f[10]=h[9];f[11]=h[8];f[12]=h[0];var a=new myRowObject(f);g.myRow=a};var myUpdateQuoteRequest=getHTMLHTTPRequest();var quotRowtoEdit;var callUpdateQuoteAjax=function(j,g){var d=document.getElementById(INNER_TABLE_NAME_QUOTE_PREFIX);quotRowtoEdit=d.tBodies[0].rows[j];if(g=="discard"){quotRowtoEdit.myRow.content[8].value=quotRowtoEdit.myRow.content[9].firstChild.data;var f="<select id='basis'>";f+="<option value='0' "+(quotRowtoEdit.myRow.content[10]=="0"?"selected='selected'":"")+">Percent</option>";f+="<option value='1' "+(quotRowtoEdit.myRow.content[10]=="1"?"selected='selected'":"")+">Price</option>";quotRowtoEdit.myRow.content[7].innerHTML=f;return}var e=parseInt(Math.random()*99999999);var c="";var h=quotRowtoEdit.myRow.content[12];var b=currentBidderIdForQuotation;var a=quotRowtoEdit.myRow.content[8].value;var f=quotRowtoEdit.myRow.content[7].firstChild.value;c=myServerAddress+"MyXMLDispatcher?rand="+e+"&path="+23070+"&itemId="+h+"&bidderId="+b+"&quote="+a+"&basis="+f+"&method=updateQuote&flag="+g;myUpdateQuoteRequest.open("GET",c,true);myUpdateQuoteRequest.onreadystatechange=updateQuoteAction;openSplashScreen();myUpdateQuoteRequest.send(null)};var updateQuoteAction=function(){if(myUpdateQuoteRequest.readyState==4){if(myUpdateQuoteRequest.status==200){var c=myUpdateQuoteRequest.responseXML;var a=0;if(c==null){alert("Data Error")}else{var e=c.getElementsByTagName("status");a=systemStatus(null,e)}if(a==1){var b=c.getElementsByTagName("refreshValue");if(b!=null&&b.length>0){quotRowtoEdit.myRow.content[8].value=b[0].getAttribute("quote");quotRowtoEdit.myRow.content[9].firstChild.data=b[0].getAttribute("quote");quotRowtoEdit.myRow.content[10]=b[0].getAttribute("basis");var d="<select id='basis'>";d+="<option value='0' "+(quotRowtoEdit.myRow.content[10]=="0"?"selected='selected'":"")+">Percent</option>";d+="<option value='1' "+(quotRowtoEdit.myRow.content[10]=="1"?"selected='selected'":"")+">Price</option>";quotRowtoEdit.myRow.content[7].innerHTML=d}}else{if(a==2){alert("UPDATE: System Error")}}}else{alert("Connection Problem:"+myUpdateQuoteRequest.statusText)}closeSplashScreen()}};