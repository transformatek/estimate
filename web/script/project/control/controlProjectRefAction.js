var ROW_BASE=1;var deleteControlProjectRefAjax=function(h){if(!confirmDelete()){return}var b=h;var j;var f;if(b.target){j=b.target.parentNode.parentNode}else{if(b.srcElement){j=b.srcElement.parentNode.parentNode}}var i=j.sectionRowIndex;f=j.parentNode.parentNode;var c=j.getAttribute("file_id");var d=getHTMLHTTPRequest();var g=parseInt(Math.random()*99999999);var a=myServerAddress+"MyXMLDispatcher?rand="+g+"&path="+20770+"&fileId="+c+"&method=deleteControlProjectFile";d.open("GET",a,true);d.onreadystatechange=function(){if(d.readyState==4){if(d.status==200){var k=d.responseXML;var e=0;if(k==null){alert("Data Error")}else{var l=k.getElementsByTagName("status");e=systemStatus(null,l)}if(e==1){deleteRow(j);reorderRows(f,i)}else{if(e==2){alert("DELETE: System Error")}}}else{alert("Connection Problem:"+d.statusText)}}};d.send(null)};var deleteRow=function(b){var a=b.sectionRowIndex;b.parentNode.deleteRow(a)};var reorderRows=function(d,c){if(d.tBodies[0].rows[c]){var b=c+ROW_BASE;for(var a=c;a<d.tBodies[0].rows.length;a++){d.tBodies[0].rows[a].cells[0].innerHTML=""+b;b++}}};var downloadControlProjectAction=function(f,b){var d=f;var g;var c;if(d.target){g=d.target.parentNode.parentNode}else{if(d.srcElement){g=d.srcElement.parentNode.parentNode}}var h=g.sectionRowIndex;c=g.parentNode.parentNode;var a=g.getAttribute("file_id");if(b==true){window.location="MyActionDispatcher?path=20780&fileId="+a+"&method=downloadControlProjectFile"}else{window.location="MyActionDispatcher?path=103300&fileId="+a+"&method=downloadControlProjectFile"}};