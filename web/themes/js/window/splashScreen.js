var modalWindow={initialized:false,active:false,init:function(){if(this.initialized){return}document.write('<div id="modalVeil__"></div><div id="modalMessageDiv__"></div><div id="modalDialogDiv__"></div>');this.veil=document.getElementById("modalVeil__");this.message=document.getElementById("modalMessageDiv__");this.dialog=document.getElementById("modalDialogDiv__");viewPort.addEvent(window,"resize",modalWindow.adjustComponents,false);viewPort.addEvent(window,"load",modalWindow.adjustComponents,false);viewPort.addEvent(window,"scroll",modalWindow.adjustComponents,false);this.initialized=true},loadVeil:function(){var a=viewPort.getSize();var b=viewPort.getOffset();this.veil.style.width=a.width+"px";this.veil.style.height=a.height+"px";this.veil.style.left=b.left+"px";this.veil.style.top=b.top+"px";this.veil.style.visibility="visible";this.veil.style.display="block"},adjustComponents:function(){if(modalWindow.active){var b=viewPort.getSize();var c=viewPort.getOffset();modalWindow.veil.style.width=b.width+"px";modalWindow.veil.style.height=b.height+"px";modalWindow.veil.style.left=c.left+"px";modalWindow.veil.style.top=c.top+"px";var a=viewPort.getCenter({width:modalWindow.message.offsetWidth,height:modalWindow.message.offsetHeight});modalWindow.message.style.left=a.left+"px";modalWindow.message.style.top=a.top+"px";a=viewPort.getCenter({width:modalWindow.dialog.offsetWidth,height:modalWindow.dialog.offsetHeight});modalWindow.dialog.style.left=a.left+"px";modalWindow.dialog.style.top=a.top+"px"}},adjustVeil:function(){if(modalWindow.veil&&modalWindow.veil.style.display=="block"){modalWindow.loadVeil()}},loadMessage:function(d,c,a){this.message.innerHTML=d;this.message.style.width=parseInt(c)+"px";this.message.style.height=parseInt(a)+"px";this.message.style.visibility="visible";this.message.style.display="block";var b=viewPort.getCenter({width:this.message.offsetWidth,height:this.message.offsetHeight});this.message.style.left=b.left+"px";this.message.style.top=b.top+"px"},loadDialog:function(f,c,b,d){var g="";if(!b){b="error"}if(b=="prompt"){g+="<p></p><center><input type='button' value='OK' id='modalPromptAction__'>&nbsp;&nbsp;&nbsp;";g+="<input type='button' value='Cancel' onclick='modalWindow.close();'></center>"}var e="<div id='dialog-header' class='"+b+"header'>";e+="<div id='dialog-title'>"+f+"</div>";e+="<div id='dialog-close' onclick='modalWindow.close();'></div>";e+="</div>";e+="<div id='dialog-content' class='"+b+"'>"+c+g+"</div>";this.dialog.innerHTML=e;this.dialog.style.visibility="visible";this.dialog.style.display="block";if(document.getElementById("modalPromptAction__")!=null){document.getElementById("modalPromptAction__").onclick=d}var a=viewPort.getCenter({width:this.dialog.offsetWidth,height:this.dialog.offsetHeight});this.dialog.style.left=a.left+"px";this.dialog.style.top=a.top+"px"},closeveil:function(){this.veil.style.display="none"},closeMessage:function(){this.message.style.display="none";this.message.innerHTML=""},closeDialog:function(){this.dialog.style.display="none";this.dialog.innerHTML=""},close:function(){if(!this.initialized){return}this.closeMessage();this.closeDialog();this.closeveil();this.active=false},open:function(c,b,a){this.init();if(this.active){this.close()}this.loadVeil();this.loadMessage(c,b,a);this.active=true},showDialog:function(d,b,a,c){this.init();if(this.active){this.close()}this.loadVeil();this.loadDialog(d,b,a,c);this.active=true},warn:function(a){modalWindow.showDialog("Warning",a,"warning")},error:function(a){modalWindow.showDialog("Error",a,"error")},success:function(a){modalWindow.showDialog("Success",a,"success")},confirm:function(b,a){modalWindow.showDialog("Confirmation",b,"prompt",a)}};function openSplashScreen(){var a='<table bgcolor="#000000" border=0 bordercolor="#000000"	cellpadding=0 cellspacing=0 width="100%" height="100%"><tr><td width="100%" height="100%" bgcolor="#dedeef" align="center" valign="middle"><br>Processing,  please wait...<br><br><img src="images/common/processing.gif" border="1" width="75" height="15"><br></td></tr></table>';modalWindow.open(a,200,100)}function closeSplashScreen(){modalWindow.close()}onerror=handleErr;function handleErr(f,c,b){if(LOG_ESTIMATE_SUITE_JS_ERROR==true){var a="";a="There was an error on this page.\n\n";a+="Error: "+f+"\n";a+="URL: "+c+"\n";a+="Line: "+b+"\n\n";a+="Click OK to continue.\n\n";alert(a)}try{closeSplashScreen()}catch(d){}return true};