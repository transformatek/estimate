if(!window.DHTMLSuite){var DHTMLSuite=new Object()}var refToTabViewObjects=new Array();DHTMLSuite.tabView=function(){var m;var t;var b;var g;var q;var d;var f;var k;var r;var p;var j;var h;var l;var s;var i;var c;var n;var a;var u;this.initActiveTabIndex=0;this.callbackOnTabSwitch="";this.refActiveTabContent="";this.textPadding=3;this.strictDocType=true;this.ajaxObjects=new Array();this.tabTitles=new Array();this.layoutCSS="tab-view.css";this.maxNumberOfTabs=6;this.dynamicContentObj=false;this.closeButtons=new Array();this.width="100%";this.height="500";try{if(!standardObjectsCreated){DHTMLSuite.createStandardObjects()}}catch(o){alert("You need to include the dhtmlSuite-common.js file")}};DHTMLSuite.tabView.prototype={init:function(){DHTMLSuite.commonObj.loadCSS(this.layoutCSS);this.outsideObjectRefIndex=refToTabViewObjects.length;refToTabViewObjects[this.outsideObjectRefIndex]=this;try{this.dynamicContentObj=new DHTMLSuite.dynamicContent()}catch(a){alert("You need to include DHTMLSuite-dynamicContent.js")}this.__initializeAndParseTabs(false,false)},setCallbackOnTabSwitch:function(a){this.callbackOnTabSwitch=a},getMaximumNumberOfTabs:function(){return this.maxNumberOfTabs},setMaximumTabs:function(a){this.maxNumberOfTabs=a},setParentId:function(a){this.tabSetParentId=a;this.DHTMLSuite_tabObj=document.getElementById(a)},setWidth:function(a){this.width=a},setHeight:function(a){this.height=a},setIndexActiveTab:function(a){this.initActiveTabIndex=a},setTabTitles:function(a){this.tabTitles=a},setCloseButtons:function(a){this.closeButtons=a},getReferenceToDivElementByTitle:function(b){var a=this.getTabIndexByTitle(tabLabel);if(a!=-1){var c=document.getElementById("tabView"+this.tabSetParentId+"_"+a);return c}return false},getReferenceToDivElementById:function(b){var c=this.DHTMLSuite_tabObj.getElementsByTagName("DIV");for(var d=0;d<c.length;d++){var a=c[d].getAttribute("originalId");if(!a){a=c[d].originalid}if(a==b){return c[d]}}return false},createNewTab:function(h,f,e,d,a){var c=this.getTabIndexByTitle(f);if(c!=-1){this.displayATab(f,c);return false}if(this.tabView_countTabs>=this.maxNumberOfTabs){return}var g=document.createElement("DIV");g.className="DHTMLSuite_aTab";this.DHTMLSuite_tabObj.appendChild(g);var b=this.__initializeAndParseTabs(true,f,a);if(e){g.innerHTML=e}if(d){this.dynamicContentObj.loadContent("tabView"+h+"_"+b,d)}this.tabTitles[b]=f;return true},deleteTab:function(b,a){if(b){var c=this.getTabIndexByTitle(b);if(c!=-1){this.deleteTab(false,c)}}else{if(a>=0){if(document.getElementById("tabTab"+this.tabSetParentId+"_"+a)){var f=document.getElementById("tabTab"+this.tabSetParentId+"_"+a);var g=f.parentNode.parentNode.id;DHTMLSuite.discardElement(f);var e=document.getElementById("tabView"+this.tabSetParentId+"_"+a);DHTMLSuite.discardElement(e);this.__resetTabIds(this.tabSetParentId);this.initActiveTabIndex=-1;var d=0;if(refToTabViewObjects[this.outsideObjectRefIndex].activeTabIndex==a){refToTabViewObjects[this.outsideObjectRefIndex].activeTabIndex=-1}this.__showTab(this.tabSetParentId,d,this.outsideObjectRefIndex)}}}},addContentToTab:function(a,c){var b=this.getTabIndexByTitle(a);if(b!=-1){this.dynamicContentObj.loadContent("tabView"+this.tabSetParentId+"_"+b,c)}},displayATab:function(b,a){if(b){var c=this.getTabIndexByTitle(b);if(c!=-1){this.initActiveTabIndex=c}else{return false}}else{this.initActiveTabIndex=a}this.__showTab(this.tabSetParentId,this.initActiveTabIndex,this.outsideObjectRefIndex)},getTabIndex:function(){var b=this.DHTMLSuite_tabObj.getElementsByTagName("DIV");var a=0;for(var c=0;c<b.length;c++){if(b[c].id.indexOf("tabTab")>=0){if(b[c].className!="tabInactive"){return a}a++}}return a},__setPadding:function(c,b){var a=c.getElementsByTagName("SPAN")[0];a.style.paddingLeft=b+"px";a.style.paddingRight=b+"px"},__showTab:function(f,a,j){var h=f+"_";if(!document.getElementById("tabView"+h+a)){return}if(refToTabViewObjects[j].activeTabIndex>=0){if(refToTabViewObjects[j].activeTabIndex==a){return}var d=document.getElementById("tabTab"+h+refToTabViewObjects[j].activeTabIndex);if(!d){refToTabViewObjects[j].activeTabIndex=0;var d=document.getElementById("tabTab"+h+refToTabViewObjects[j].activeTabIndex)}d.className="tabInactive";d.style.backgroundImage="url('"+DHTMLSuite.configObj.imagePath+"tab-view/tab_left_inactive.gif')";var g=d.getElementsByTagName("IMG");var e=g[g.length-1];e.src=DHTMLSuite.configObj.imagePath+"tab-view/tab_right_inactive.gif";document.getElementById("tabView"+h+refToTabViewObjects[j].activeTabIndex).style.display="none"}var b=document.getElementById("tabTab"+h+a);b.className="tabActive";b.style.backgroundImage="url('"+DHTMLSuite.configObj.imagePath+"tab-view/tab_left_active.gif')";var g=b.getElementsByTagName("IMG");var e=g[g.length-1];e.src=DHTMLSuite.configObj.imagePath+"tab-view/tab_right_active.gif";document.getElementById("tabView"+h+a).style.display="block";this.refActiveTabContent=document.getElementById("tabView"+h+a);refToTabViewObjects[j].activeTabIndex=a;refToTabViewObjects[j].__handleCallback("tabSwitch");var c=b.parentNode;var l=c.getElementsByTagName("DIV")[0];countObjects=0;var i=2;var k=false;while(l){if(l.tagName=="DIV"){if(k){k=false;i-=2}if(l==b){i-=2;k=true;refToTabViewObjects[j].__setPadding(l,refToTabViewObjects[j].textPadding+1)}else{refToTabViewObjects[j].__setPadding(l,refToTabViewObjects[j].textPadding)}l.style.left=i+"px";countObjects++;i+=2}l=l.nextSibling}return},__handleCallback:function(action){var callbackString="";switch(action){case"tabSwitch":callbackString=this.callbackOnTabSwitch;break}if(callbackString){callbackString=callbackString+"(this.refActiveTabContent)";eval(callbackString)}},__tabClick:function(b,a){var c=b.id.split("_");var d=b.getAttribute("parentRefId");if(!d){d=b.parentRefId}this.__showTab(d,c[c.length-1].replace(/[^0-9]/gi,""),a)},__rolloverTab:function(){if(this.className.indexOf("tabInactive")>=0){this.className="inactiveTabOver";this.style.backgroundImage="url('"+DHTMLSuite.configObj.imagePath+"tab-view/tab_left_over.gif')";var b=this.getElementsByTagName("IMG");var a=b[b.length-1];a.src=DHTMLSuite.configObj.imagePath+"tab-view/tab_right_over.gif"}},__rolloutTab:function(){if(this.className=="inactiveTabOver"){this.className="tabInactive";this.style.backgroundImage="url('"+DHTMLSuite.configObj.imagePath+"tab-view/tab_left_inactive.gif')";var b=this.getElementsByTagName("IMG");var a=b[b.length-1];a.src=DHTMLSuite.configObj.imagePath+"tab-view/tab_right_inactive.gif"}},__initializeAndParseTabs:function(d,m,c){this.DHTMLSuite_tabObj.className=" DHTMLSuite_tabWidget";window.refToThisTabSet=this;if(!d||d=="undefined"){this.DHTMLSuite_tabObj=document.getElementById(this.tabSetParentId);this.width=this.width+"";if(this.width.indexOf("%")<0){this.width=this.width+"px"}this.DHTMLSuite_tabObj.style.width=this.width;this.height=this.height+"";if(this.height.length>0){if(this.height.indexOf("%")<0){this.height=this.height+"px"}this.DHTMLSuite_tabObj.style.height=this.height}var j=document.createElement("DIV");var f=this.DHTMLSuite_tabObj.getElementsByTagName("DIV")[0];this.DHTMLSuite_tabObj.insertBefore(j,f);j.className="DHTMLSuite_tabContainer";this.tabView_countTabs=0;var a=this.tabTitles}else{var j=this.DHTMLSuite_tabObj.getElementsByTagName("DIV")[0];var f=this.DHTMLSuite_tabObj.getElementsByTagName("DIV")[1];this.initActiveTabIndex=this.tabView_countTabs;var a=Array(m)}for(var n=0;n<a.length;n++){var o=document.createElement("DIV");o.id="tabTab"+this.tabSetParentId+"_"+(n+this.tabView_countTabs);o.onmouseover=this.__rolloverTab;o.onmouseout=this.__rolloutTab;o.setAttribute("parentRefId",this.tabSetParentId);o.parentRefId=this.tabSetParentId;var h=window.refToThisTabSet.outsideObjectRefIndex+"";o.onclick=function(){window.refToThisTabSet.__tabClick(this,h)};DHTMLSuite.commonObj.__addEventEl(o);o.className="tabInactive";o.style.backgroundImage="url('"+DHTMLSuite.configObj.imagePath+"tab-view/tab_left_inactive.gif')";j.appendChild(o);var l=document.createElement("SPAN");l.innerHTML=a[n];o.appendChild(l);if((!d&&this.closeButtons[n])||(d&&c)){var b=document.createElement("IMG");b.src=DHTMLSuite.configObj.imagePath+"tab-view/tab-view-close.gif";b.style.position="absolute";b.style.top="4px";b.style.right="2px";b.onmouseover=this.__mouseOverEffectCloseButton;b.onmouseout=this.__mouseOutEffectForCloseButton;DHTMLSuite.commonObj.__addEventEl(b);l.innerHTML=l.innerHTML+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var i=l.innerHTML+"";b.onclick=function(){refToTabViewObjects[h].deleteTab(this.parentNode.innerHTML)};l.appendChild(b)}var e=document.createElement("IMG");e.valign="bottom";e.src=DHTMLSuite.configObj.imagePath+"tab-view/tab_right_inactive.gif";if((DHTMLSuite.clientInfoObj.navigatorVersion&&DHTMLSuite.clientInfoObj.navigatorVersion<6)||(DHTMLSuite.clientInfoObj.isMSIE&&!this.strictDocType)){e.style.styleFloat="none";e.style.position="relative";e.style.top="4px";l.style.paddingTop="4px";o.style.cursor="hand"}o.appendChild(e)}var k=this.DHTMLSuite_tabObj.getElementsByTagName("DIV");var p=0;for(var n=0;n<k.length;n++){if(k[n].className=="DHTMLSuite_aTab"&&k[n].parentNode==this.DHTMLSuite_tabObj){if(this.height.length>0){if(this.height.indexOf("%")==-1){var g=(this.height.replace("px","")/1-22);k[n].style.height=g+"px"}else{k[n].style.height=this.height}}k[n].style.display="none";if(k[n].id){k[n].setAttribute("originalId",k[n].id);k[n].originalId=k[n].id}k[n].id="tabView"+this.tabSetParentId+"_"+p;p++}}if(d){this.tabView_countTabs++}else{this.tabView_countTabs=this.tabView_countTabs+this.tabTitles.length}this.__showTab(this.tabSetParentId,this.initActiveTabIndex,this.outsideObjectRefIndex);return this.activeTabIndex},__mouseOutEffectForCloseButton:function(){this.src=this.src.replace("close-over.gif","close.gif")},__mouseOverEffectCloseButton:function(){this.src=this.src.replace("close.gif","close-over.gif")},__fillTabWithContentFromAjax:function(c,b,a){var d=document.getElementById("tabView"+b+"_"+a);d.innerHTML=this.ajaxObjects[c].response},__resetTabIds:function(e){var c=0;var a=0;var b=this.DHTMLSuite_tabObj.getElementsByTagName("DIV");for(var d=0;d<b.length;d++){if(b[d].className=="DHTMLSuite_aTab"&&b[d].parentNode==this.DHTMLSuite_tabObj){b[d].id="tabView"+e+"_"+c;c++}if(b[d].id.indexOf("tabTab")>=0&&b[d].parentNode.parentNode==this.DHTMLSuite_tabObj){b[d].id="tabTab"+e+"_"+a;a++}}this.tabView_countTabs=a},getTabIndexByTitle:function(d){d=d.replace(/(.*?)&nbsp.*$/gi,"$1");var c=this.DHTMLSuite_tabObj.getElementsByTagName("DIV");for(var e=0;e<c.length;e++){if(c[e].id.indexOf("tabTab")>=0){var b=c[e].getElementsByTagName("SPAN")[0];var a=b.innerHTML.replace(/(.*?)&nbsp.*$/gi,"$1");if(a==d){var f=c[e].id.split("_");return f[f.length-1].replace(/[^0-9]/g,"")/1}}}return -1},getTabTitle:function(){return(this.tabTitles[this.activeTabIndex])}};