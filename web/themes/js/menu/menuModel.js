if(!window.DHTMLSuite){var DHTMLSuite=new Object()}DHTMLSuite.menuModelItem=function(){var c;var l;var i;var b;var f;var g;var h;var e;var m;var j;var k;var a;var n;var d;this.state="regular"};DHTMLSuite.menuModelItem.prototype={setMenuVars:function(b,h,e,a,c,g,d,f,i){this.id=b;this.itemText=h;this.itemIcon=e;this.url=a;this.parentId=c;this.jsFunction=d;this.separator=false;this.depth=false;this.hasSubs=false;this.helpText=g;this.submenuWidth=i;this.visible=true;if(!f){if(this.parentId){this.type="top"}else{this.type="sub"}}else{this.type=f}},setAsSeparator:function(b,a){this.id=b;this.parentId=a;this.separator=true;this.visible=true;if(this.parentId){this.type="top"}else{this.type="sub"}},setVisibility:function(a){this.visible=a},getState:function(){return this.state},setState:function(a){this.state=a},setSubMenuWidth:function(a){this.submenuWidth=a},setIcon:function(a){this.itemIcon=a},setText:function(a){this.itemText=a}};DHTMLSuite.menuModel=function(){var a;var c;var g;var f;this.menuItems=new Object();this.menuItemsOrder=new Array();this.submenuType=new Array();this.submenuType[1]="top";for(var d=2;d<20;d++){this.submenuType[d]="sub"}try{if(!standardObjectsCreated){DHTMLSuite.createStandardObjects()}}catch(b){alert("You need to include the dhtmlSuite-common.js file")}};DHTMLSuite.menuModel.prototype={addItem:function(b,j,g,a,c,i,f,h,k){if(!b){b=this.__getUniqueId()}try{this.menuItems[b]=new DHTMLSuite.menuModelItem()}catch(d){alert("Error: You need to include dhtmlSuite-menuModel.js in your html file")}this.menuItems[b].setMenuVars(b,j,g,a,c,i,f,h,k);this.menuItemsOrder[this.menuItemsOrder.length]=b;return this.menuItems[b]},addItemsFromMarkup:function(f){if(!document.getElementById(f)){alert("<UL> tag with id "+f+" does not exist");return}var d=document.getElementById(f);var g=d.getElementsByTagName("LI");for(var q=0;q<g.length;q++){var c=g[q].id.replace(/[^0-9]/gi,"");if(!c||this.menuItems[c]){c=this.__getUniqueId()}try{this.menuItems[c]=new DHTMLSuite.menuModelItem()}catch(k){alert("Error: You need to include dhtmlSuite-menuModel.js in your html file")}this.menuItemsOrder[this.menuItemsOrder.length]=c;var i=0;if(g[q].parentNode!=d){i=g[q].parentNode.parentNode.id}var m=g[q].getAttribute("itemType");if(!m){m=g[q].itemType}if(m=="separator"){this.menuItems[c].setAsSeparator(c,i);continue}if(i){m="sub"}else{m="top"}var o=g[q].getElementsByTagName("A")[0];if(!o){continue}if(o){var p=o.innerHTML}var l=g[q].getAttribute("itemIcon");var a=o.href;if(a=="#"||a.substr(a.length-1,1)=="#"){a=""}var j=g[q].getAttribute("jsFunction");var r=false;var n=o.getAttribute("title");if(!n){n=o.title}this.menuItems[c].setMenuVars(c,p,l,a,i,n,j,m,r)}var h=d.getElementsByTagName("UL");for(var q=0;q<h.length;q++){var b=h[q].getAttribute("width");if(!b){b=h[q].width}if(b){var c=h[q].parentNode.id.replace(/[^0-9]/gi,"");this.setSubMenuWidth(c,b)}}d.style.display="none"},setSubMenuWidth:function(b,a){this.menuItems[b].setSubMenuWidth(a)},setMainMenuGroupWidth:function(a){this.mainMenuGroupWidth=a},addSeparator:function(b){id=this.__getUniqueId();if(!b){b=0}try{this.menuItems[id]=new DHTMLSuite.menuModelItem()}catch(a){alert("Error: You need to include dhtmlSuite-menuModel.js in your html file")}this.menuItems[id].setAsSeparator(id,b);this.menuItemsOrder[this.menuItemsOrder.length]=id;return this.menuItems[id]},init:function(){this.__getDepths();this.__setHasSubs()},setMenuItemVisibility:function(b,a){this.menuItems[b].setVisibility(a)},setSubMenuType:function(b,a){this.submenuType[b]=a;this.__getDepths()},getItems:function(d,a){if(!d){return this.menuItems}if(!a){a=new Array()}for(var b=0;b<this.menuItemsOrder.length;b++){var c=this.menuItemsOrder[b];if(!c){continue}if(this.menuItems[c].parentId==d){a[a.length]=this.menuItems[c];if(this.menuItems[c].hasSubs){return this.getItems(this.menuItems[c].id,a)}}}return a},__getUniqueId:function(){var a=Math.random()+"";a=a.replace(".","");a="99"+a;a=a/1;while(this.menuItems[a]){a=Math.random()+"";a=a.replace(".","");a=a/1}return a},__getDepths:function(){for(var a=0;a<this.menuItemsOrder.length;a++){var b=this.menuItemsOrder[a];if(!b){continue}while(!this.menuItems[b]){}this.menuItems[b].depth=1;if(this.menuItems[b].parentId){this.menuItems[b].depth=this.menuItems[this.menuItems[b].parentId].depth+1}this.menuItems[b].type=this.submenuType[this.menuItems[b].depth]}},__setHasSubs:function(){for(var a=0;a<this.menuItemsOrder.length;a++){var b=this.menuItemsOrder[a];if(!b){continue}while(!this.menuItems[b]){}if(this.menuItems[b].parentId){this.menuItems[this.menuItems[b].parentId].hasSubs=1}}},__hasSubs:function(b){for(var a=0;a<this.menuItemsOrder.length;a++){var b=this.menuItemsOrder[a];if(!b){continue}if(this.menuItems[b].parentId==b){return true}}return false},__deleteChildNodes:function(e,a){var b=new Array();for(var d=0;d<this.menuItemsOrder.length;d++){var c=this.menuItemsOrder[d];if(!c){continue}if(this.menuItems[c].parentId==e&&e){this.menuItems[c]=false;b[b.length]=c;this.__deleteChildNodes(c,true)}}if(!a){for(var d=0;d<b.length;d++){if(!b[d]){continue}this.__deleteItemFromItemOrderArray(b[d])}}this.__setHasSubs()},__deleteANode:function(a){this.menuItems[a]=false;this.__deleteItemFromItemOrderArray(a)},__deleteItemFromItemOrderArray:function(c){for(var a=0;a<this.menuItemsOrder.length;a++){var b=this.menuItemsOrder[a];if(!b){continue}if(this.menuItemsOrder[a]==c){this.menuItemsOrder.splice(a,1);return}}},__appendMenuModel:function(b,f){if(!b){return}var a=b.getItems();for(var d=0;d<b.menuItemsOrder.length;d++){var e=b.menuItemsOrder[d];if(!e){continue}if(!a[e].parentId){a[e].parentId=f}this.menuItems[e]=a[e];for(var c=0;c<this.menuItemsOrder.length;c++){if(!this.menuItemsOrder[c]){continue}if(this.menuItemsOrder[c]==a[e].id){this.menuItemsOrder.splice(c,1)}}this.menuItemsOrder[this.menuItemsOrder.length]=a[e].id}this.__getDepths();this.__setHasSubs()}};