if(!window.DHTMLSuite){var DHTMLSuite=new Object()}var referenceToDHTMLSuiteContextMenu;DHTMLSuite.contextMenu=function(){var d;var f;var b;var i;var k;var n;var c;var l;var m;var a=null;var j;this.menuModels=new Object();this.menuObject=false;this.menuUls=new Array();this.width=100;this.srcElement=false;this.indexCurrentlyDisplayedMenuModel=false;try{if(!standardObjectsCreated){DHTMLSuite.createStandardObjects()}}catch(h){alert("You need to include the dhtmlSuite-common.js file")}var g;this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this};DHTMLSuite.contextMenu.prototype={setWidth:function(a){this.width=a},setLayoutCss:function(a){},attachToElement:function(b,a,c){window.refToThisContextMenu=this;if(!b&&a){b=document.getElementById(a)}if(!b.id){b.id="context_menu"+Math.random();b.id=b.id.replace(".","")}this.menuModels[b.id]=c;c.setSubMenuType(1,"sub");c.setMainMenuGroupWidth(this.width);if(!this.defaultMenuModel){this.defaultMenuModel=c}b.oncontextmenu=this.__displayContextMenu;b.onmousedown=function(){window.refToThisContextMenu.__setReference(window.refToThisContextMenu)};DHTMLSuite.commonObj.__addEventEl(b);DHTMLSuite.commonObj.addEvent(document.documentElement,"click",this.__hideContextMenu)},attachTo:function(b,a){b=DHTMLSuite.commonObj.getEl(b);this.attachToElement(b,false,a)},__setReference:function(a){referenceToDHTMLSuiteContextMenu=a},__displayContextMenu:function(b){if(document.all){b=event}var a=referenceToDHTMLSuiteContextMenu;if(a.isContextMenuBusy){return}a.isContextMenuBusy=true;a.srcElement=DHTMLSuite.commonObj.getSrcElement(b);if(!a.indexCurrentlyDisplayedMenuModel||a.indexCurrentlyDisplayedMenuModel!=this.id){if(a.indexCurrentlyDisplayedMenuModel){a.menuObject.innerHTML=""}else{a.__createDivs()}a.menuItems=a.menuModels[this.id].getItems();a.__createMenuItems(a.menuModels[this.id])}if(a.modifyMenu!=null){a.modifyMenu()}a.indexCurrentlyDisplayedMenuModel=this.id;a.menuObject.style.left=(b.clientX+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft))+"px";a.menuObject.style.top=(b.clientY+Math.max(document.body.scrollTop,document.documentElement.scrollTop))+"px";a.menuObject.style.display="block";setTimeout("referenceToDHTMLSuiteContextMenu.isContextMenuBusy=false",20);return false},__hideContextMenu:function(){var a=referenceToDHTMLSuiteContextMenu;if(!a){return}if(a.menuObject){a.menuObject.style.display="none"}},__createDivs:function(){var a=false;var b=document.getElementsByTagName("DIV");if(b.length>0){a=b[0]}this.menuObject=document.createElement("DIV");this.menuObject.style.cssText="position:absolute;z-index:100000;";this.menuObject.className="DHTMLSuite_contextMenu";this.menuObject.id="DHTMLSuite_contextMenu"+DHTMLSuite.commonObj.getUniqueId();this.menuObject.style.backgroundImage="url('"+DHTMLSuite.configObj.imagePath+"context-menu/context-menu-gradient.gif')";this.menuObject.style.backgroundRepeat="repeat-y";if(this.width){this.menuObject.style.width=this.width+"px"}if(a){a.parentNode.insertBefore(this.menuObject,a)}else{document.body.appendChild(this.menuObject)}this.menuBar=new DHTMLSuite.menuBar();this.menuBar.setActiveSubItemsOnMouseOver(true);this.menuBar.setTarget(this.menuObject.id);this.menuBar.addMenuItems(this.defaultMenuModel);this.menuBar.init()},__mouseOver:function(){this.className="DHTMLSuite_item_mouseover";if(!document.all){this.style.backgroundPosition="left center"}},__mouseOut:function(){this.className="";if(!document.all){this.style.backgroundPosition="1px center"}},__createMenuItems:function(a){this.menuBar.deleteAllMenuItems();this.menuBar.addMenuItems(a);this.menuBar.init()}};